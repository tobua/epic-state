(()=>{"use strict";var e={253:function(e,t,r){let n;var a,i=r("162"),o=r("649"),l=r("412");var s=((a={}).Get="get",a.Set="set",a.Delete="delete",a);class u{has(e,t){var r;return!!(this.observedProperties.has(e)&&(null===(r=this.observedProperties.get(e))||void 0===r?void 0:r.has(t)))}get(e,t){var r;return this.has(e,t)?null===(r=this.observedProperties.get(e))||void 0===r?void 0:r.get(t):void 0}add(e,t,r){var n,a,i,o;!this.observedProperties.has(e)&&this.observedProperties.set(e,new Map),!(null===(n=this.observedProperties.get(e))||void 0===n?void 0:n.has(t))&&(null===(o=this.observedProperties.get(e))||void 0===o||o.set(t,[])),null===(i=this.observedProperties.get(e))||void 0===i||null===(a=i.get(t))||void 0===a||a.push(r)}delete(e,t){if(this.observedProperties.has(e)){let r=this.observedProperties.get(e);(null==r?void 0:r.has(t))&&r.delete(t)}}clear(){this.observedProperties.clear()}constructor(){(0,l._)(this,"observedProperties",new Map)}}let d=[];function c(e){let{type:t,target:r,initial:n=!1,...a}=e;if(r._plugin)for(let e of r._plugin){let r=e[t];r&&(e.all||a.leaf||t===s.Delete)&&r.call(e,a)}if(r.parent&&c({type:t,target:r.parent,...a}),!!n)for(let e of d){let r=e[t];r&&(e.all||a.leaf||t===s.Delete)&&r.call(e,a)}}let f=(0,r("509").U)("epic-state","red"),p=e=>"object"==typeof e&&null!==e,b=e=>{let t=Object.getOwnPropertyDescriptors(e),r={};for(let[e,{get:n}]of Object.entries(t))"function"==typeof n&&(r[e]=n);return r},h=(e,t)=>{let r=Object.getOwnPropertyDescriptor(e,t);return!!r&&"function"==typeof r.set},g=(e,t)=>new Proxy(e,t),v=(e,t)=>p(e)&&!t.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer),y=e=>e instanceof Map||e instanceof Set,w=e=>Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));new WeakMap;let m={updates:[],scheduler:void 0},O=e=>{m.updates.unshift(e),void 0===m.scheduler&&(m.scheduler=P(S))},j={didTimeout:!1,timeRemaining:()=>99999};function P(e){if("undefined"==typeof window&&!1!==globalThis.stateDisableBatching||!0===globalThis.stateDisableBatching){e(j);return}return window.requestIdleCallback?window.requestIdleCallback(e):(window.requestIdleCallback=window.requestIdleCallback||function(e,t){let r=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-r))})},1),0},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)},P(e))}function S(e){if(0===m.updates.length){f("Trying to batch empty updates");return}let t=!1,r=500;for(;m.updates.length&&!t&&r>0;){r-=1;let n=m.updates.shift();n&&(c(n),m.updates=m.updates.filter(e=>e.property!==n.property||e.parent!==n.parent)),t=1>e.timeRemaining()}0===r&&console.error("Ran out of tries at process."),m.updates.length&&P(S),m.scheduler=void 0}let k=new Map,x=new Map,D=()=>void 0!==n,M=(e,t)=>{if(!D())return;!x.has(e)&&x.set(e,new Map);let r=x.get(e);r.has(t)?r.get(t).add(n):r.set(t,new Set([n]))},R=(e,t)=>{if(!x.has(e))return;let r=x.get(e);if(!!(null==r?void 0:r.has(t)))for(let e of r.get(t))e.state=2},T=new Map,A=new WeakSet;var z=r("975");!function(e){let t="function"==typeof e?e("initialize"):e;d.push(t)}(e=>{"initialize"!==e&&f("connect plugin cannot be configured","warning");let t=new u;return{set:e=>{let{property:r,parent:n,value:a,previousValue:i}=e;if(a===i)return;let l=t.get(n,r);t.has(n,r)&&t.delete(n,r);let s=new Set;if(l)for(let e of l)!s.has(e.type)&&(e.rerender(),s.add(e.type));(0,o.Lt)()},get:e=>{let{property:r,parent:n}=e;if(!o.Th.current)return;let{component:a,type:i}=o.Th.current;if(!(null==a?void 0:a.rerender)){f("Cannot rerender epic-jsx component","warning");return}if(t.has(n,r)){let e=t.get(n,r);!(null==e?void 0:e.some(e=>e.type===i))&&(null==e||e.push({rerender:a.rerender,type:i}))}else!t.has(n,r)&&t.add(n,r,{rerender:a.rerender,type:i})},delete:()=>{}}});let C=function e(){var t,r;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,l=!0;!p(a)&&f("Only objects can be made observable with state()","error"),!i&&Object.hasOwn(a,"parent")&&f('"parent" property is reserved on state objects to reference the parent',"warning"),!o&&Object.hasOwn(a,"root")&&f('"root" property is reserved on state objects to reference the root',"warning"),!function(e){let t=b(e);if(!Object.keys(t).length)return;for(let[a,i]of Object.entries(t)){function r(){if(1===r.state&&k.has(r))return k.get(r);n=r;let e=i();return n=void 0,r.state=1,k.set(r,e),e}r.state=0,Object.defineProperty(e,a,{get:r,enumerable:!0,configurable:!0})};}(a);let u=[],d=w(a),m=g(d,{get(e,t,r){if("parent"===t)return i;if("root"===t)return o;if("plugin"===t)return;if("_plugin"===t)return u;if("addPlugin"===t)return e=>u.push("function"==typeof e?e("initialize",m):e);let n=Reflect.get(e,t,r);return!l&&"function"!=typeof n&&(c({type:s.Get,target:r,initial:!0,property:t,parent:r??o,leaf:"object"!=typeof n,value:n}),M(o??r,t)),n},set(t,r,n,a){if("parent"===r||"root"===r||!l&&"plugin"===r)return f(`"${r}" is reserved an cannot be changed`,"warning"),!1;let u=Reflect.get(t,r,a);if(n===u)return!0;let d=n;if(n instanceof Promise)n.then(e=>{n.status="fulfilled",n.value=e}).catch(e=>{n.status="rejected",n.reason=e});else{if(l&&"function"==typeof n&&n.requiresInitialization){let{data:t,after:r}=n(e);d=t,"function"==typeof r&&r(d)}else!T.has(n)&&v(n,A)?d=e(n,a,o??a):y(n)&&(d=n instanceof Map?function(e,t,r,n){let a={data:Array.from(t||[]),has:e=>a.data.some(t=>t[0]===e),set(e,t){let r=a.data.find(t=>t[0]===e);return r?r[1]=t:a.data.push([e,t]),a},get(e){var t;return null===(t=a.data.find(t=>t[0]===e))||void 0===t?void 0:t[1]},delete(e){let t=a.data.findIndex(t=>t[0]===e);return -1!==t&&(a.data.splice(t,1),!0)},clear(){a.data.splice(0)},get size(){return a.data.length},toJSON:()=>new Map(a.data),forEach(e){for(let t of a.data)e(t[1],t[0],a)},keys:()=>a.data.map(e=>e[0]).values(),values:()=>a.data.map(e=>e[1]).values(),entries:()=>new Map(a.data).entries(),get[Symbol.toStringTag](){return"Map"},[Symbol.iterator]:()=>a.entries()},i=e(a,r,n);return Object.defineProperties(i,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(i),i}(e,n,i,o??a):function(e,t,r,n){let a={data:Array.from(new Set(t)),has:e=>-1!==a.data.indexOf(e),add(t){let r=!1;return"object"==typeof t&&null!==t&&(r=-1!==a.data.indexOf(e(t,a))),-1===a.data.indexOf(t)&&!r&&a.data.push(t),a},delete(e){let t=a.data.indexOf(e);return -1!==t&&(a.data.splice(t,1),!0)},clear(){a.data.splice(0)},get size(){return a.data.length},forEach(e){for(let t of a.data)e(t,a)},get[Symbol.toStringTag](){return"Set"},toJSON:()=>new Set(a.data),[Symbol.iterator]:()=>a.data[Symbol.iterator](),values:()=>a.data.values(),keys:()=>a.data.values(),entries:()=>new Set(a.data).entries()},i=e(a,r,n);return Object.defineProperties(i,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(i),i}(e,n,i,o??a));!A.has(d)&&T.get(d)}return l||"object"!=typeof n||"object"!=typeof u||Array.isArray(n)?(void 0!==u||h(t,r)?Reflect.set(t,r,d,a):Object.defineProperty(t,r,{value:d,writable:!0,configurable:!0}),!l&&(R(o??a,r),O({type:s.Set,target:a,initial:!0,property:r,parent:a??o,value:n,previousValue:u,leaf:"object"!=typeof n})),!0):(!function(e,t){for(let r of Reflect.ownKeys(t))e[r]=t[r];for(let r of Reflect.ownKeys(e))!(r in t)&&delete e[r]}(u,n),!0)},deleteProperty(e,t){let r=Reflect.get(e,t),n=Reflect.deleteProperty(e,t);return n&&O({type:s.Delete,target:e,initial:!0,property:t,parent:m??o,previousValue:r,leaf:"object"!=typeof r}),n}}),j=[d];for(let e of(T.set(m,j),Reflect.ownKeys(a))){let t=Object.getOwnPropertyDescriptor(a,e);"value"in t&&(m[e]=a[e],delete t.value,delete t.writable),Object.defineProperty(d,e,t)}return t=m,u=(r=a.plugin)?(Array.isArray(r)?r:[r]).map(e=>e("initialize",t)):[],l=!1,m}({count:1,get double(){return 2*C.count},increment:()=>{C.count+=1}});(0,o.sY)((0,i.tZ)(z.q2,{title:"epic-state Demo",npm:"epic-state",github:"tobua/epic-state",children:(0,i.BX)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[(0,i.tZ)(function(){return(0,i.BX)("button",{type:"button",style:{outline:"none",border:"none",padding:20,background:"#FF002E",color:"white",fontSize:"200%",borderRadius:20,cursor:"pointer"},onClick:C.increment,children:["Increment ",C.count," ",C.double]})},{}),(0,i.BX)("p",{children:["Uses ",(0,i.tZ)("span",{style:{fontWeight:"bold"},children:"epic-jsx"})," for rendering."]})]})}))}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},(()=>{var e=[];r.O=function(t,n,a,i){if(n){i=i||0;for(var o=e.length;o>0&&e[o-1][2]>i;o--)e[o]=e[o-1];e[o]=[n,a,i];return}for(var l=1/0,o=0;o<e.length;o++){for(var n=e[o][0],a=e[o][1],i=e[o][2],s=!0,u=0;u<n.length;u++)(!1&i||l>=i)&&Object.keys(r.O).every(function(e){return r.O[e](n[u])})?n.splice(u--,1):(s=!1,i<l&&(l=i));if(s){e.splice(o--,1);var d=a();void 0!==d&&(t=d)}}return t}})(),r.p="/epic-state/",r.rv=function(){return"1.1.4"},(()=>{var e={980:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a=n[0],i=n[1],o=n[2],l,s,u=0;if(a.some(function(t){return 0!==e[t]})){for(l in i)r.o(i,l)&&(r.m[l]=i[l]);if(o)var d=o(r)}for(t&&t(n);u<a.length;u++)s=a[u],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(d)},n=self.webpackChunkdemo_epic=self.webpackChunkdemo_epic||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.ruid="bundler=rspack@1.1.4";var n=r.O(void 0,["788"],function(){return r("253")});n=r.O(n)})();